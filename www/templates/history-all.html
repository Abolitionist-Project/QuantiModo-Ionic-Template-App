<ion-view hide-nav-bar="hideNavigationMenu" view-title="{{title}}">
     <ion-content>
         <ion-refresher on-refresh="init()"></ion-refresher>
         <div ng-show="state.showLocationToggle" class="card sign-in" >
             <ion-toggle ng-model="state.trackLocation"
                         ng-change="trackLocationChange()">
                 <i class="icon ion-map"></i>
                 &nbsp
                 Track my location
             </ion-toggle>
         </div>
      <ion-list>
          <div collection-repeat="historyItem in state.history" data-measurementid="{{historyItem.id}}" divider-collection-repeat>
              <ion-item  ng-click="editMeasurement(historyItem)">
                  <div style="display:inline-block;float:left;margin-left:5px;margin-right:5px;width:50px;text-align:center">
                    <i ng-hide="historyItem.image" class="{{historyItem.icon }}" style="color:#11c1f3;font-size: 50px;"></i>
                      <img ng-show="historyItem.image" ng-src="{{historyItem.image}}" style="width:50px;" />
<!--                      <p style="font-weight:bold;white-space:normal">{{historyItem.variable}}</p>-->
                  </div>
                  <div class="history-block" style="margin-left:5px;">
                      <p ng-hide="true">{{historyItem.id}}</p>
                      <!--<p>{{historyItem.id}}</p>-->
                      <h2 style="font-weight:bold;white-space:normal"> {{historyItem.valueUnitVariableName}}</h2>
                    <h2 class="history-time" ng-repeat="line in (historyItem.startTimeEpoch | timeOfDayDayOfWeek) track by $index">
                      {{line}}
                    </h2>
                      <h2 class="history-time" ng-repeat="line in (historyItem.startTimeEpoch | justDate) track by $index">
                          {{line}}
                      </h2>
                  </div>
              </ion-item>

          </div>
      </ion-list> 
      <div class="button-bar" ng-hide="state.hideLoadMoreButton">
        <a class="button button-clear button-calm" ng-click="getNext()" style="text-overflow: clip;"><i class="ion-refresh">  Load More</i></a>
      </div>
    </ion-content>
    <nav mfb-menu position="bl" effect="slidein-spring"
         active-icon="ion-minus-round" resting-icon="ion-plus-round"
         toggling-method="click" ng-hide="hideNavigationMenu || (hideNavigationMenu && !isWelcomed)">
        <button mfb-button icon={{floatingMaterialButton.button1.icon}} label={{floatingMaterialButton.button1.label}} ng-click="goToState({{floatingMaterialButton.button1.stateAndParameters}})"></button>
        <button mfb-button icon={{floatingMaterialButton.button2.icon}} label={{floatingMaterialButton.button2.label}} ng-click="goToState({{floatingMaterialButton.button2.stateAndParameters}})"></button>
        <button mfb-button icon={{floatingMaterialButton.button3.icon}} label={{floatingMaterialButton.button3.label}} ng-click="goToState({{floatingMaterialButton.button3.stateAndParameters}})"></button>
        <button mfb-button icon={{floatingMaterialButton.button4.icon}} label={{floatingMaterialButton.button4.label}} ng-click="goToState({{floatingMaterialButton.button4.stateAndParameters}})"></button>
    </nav>
</ion-view>
